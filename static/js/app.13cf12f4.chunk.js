(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{45:function(e,t,r){e.exports=r.p+"static/media/upload_placeholder.35cb9586.png"},68:function(e,t,r){"use strict";r.d(t,"a",(function(){return U}));var a=r(1),n=r.n(a),o=r(39),i=r.n(o),l=r(16),c=r.n(l),s=r(3),d=r(9),u=r(2),m=r(36),p=r(20),f=r(13),g=r.n(f),h=r(32),y=r.n(h),b=r(70),x="#57ABD2",w={colors:{text:{primary:x,default:"#0C0C0C",link:x,error:"#FF0D0D",light:"#FFFFFF"},button:{primary:x,secondary:"#8CC6E0",disabled:"#97999B"},border:{primary:x,error:"#FF0D0D"},misc:{background:"#FFFFFF",shadow:"#000000",loadingIndicator:x}},fonts:{sizes:{default:12,medium:16,small:10,xLarge:20,header:32}}},v=w.colors,E=w.fonts,F=r(45),C=r.n(F);function j(e){var t=e.note,r=e.source,o=e.bottomNote,i=e.getPreview,l=e.loading,f=(e.fileOrientation,e.containerStyle),h=e.withBorder,x=void 0===h||h,w=e.maxFileSize,E=void 0===w?1e7:w,F=e.type,j=void 0===F?"image":F,z=e.imageSize,O=void 0===z?{height:4032,width:4032}:z,D=y()(e,["note","source","bottomNote","getPreview","loading","fileOrientation","containerStyle","withBorder","maxFileSize","type","imageSize"]),B=Object(a.useState)(!1),k=c()(B,2),U=k[0],W=k[1],P=Object(a.useState)(""),R=c()(P,2),T=(R[0],R[1]);return n.a.createElement(s.a,null,n.a.createElement(b.a,g()({accept:"image/*",multiple:!1,preventDropOnDocument:!0,onDrop:function(e){var t=e.map((function(e){return{file:e,preview:URL.createObjectURL(e)}}));i&&i(t[0])}},D,{maxSize:E}),(function(e){var a,i,c=e.getRootProps,s=e.getInputProps,g=r?"string"===typeof r?{uri:r}:{uri:r&&r.preview||void 0}:void 0;return l?a=n.a.createElement(m.a,null):"image"===j&&g?(i=g.uri||"",p.a.getSize(i,(function(e,t){""!==i&&(e>O.width||t>O.height?W(!0):W(!1))}),(function(e){T(e)})),a=n.a.createElement(p.a,{source:{uri:g.uri},style:[S.preview,{height:400,width:600}],resizeMode:"contain"})):a=n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{source:C.a,style:[S.preview,{height:100,width:100}],resizeMode:"contain"}),n.a.createElement(d.a,{style:S.text},"Drag and Drop or ",n.a.createElement(d.a,{style:S.browse},"browse")," ","files to upload.")),x?n.a.createElement(n.a.Fragment,null,t&&n.a.createElement(d.a,{style:[S.blueText,{marginBottom:12},U?{borderColor:v.border.error}:{}]},t),n.a.createElement("div",c({style:u.a.flatten([S.root,f,U?{borderColor:v.border.error}:{borderColor:v.border.primary}])}),n.a.createElement("input",s()),a),o&&n.a.createElement(d.a,{style:[S.blueText,{marginTop:12},U?{color:v.text.error}:{}]},o)):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",c({style:u.a.flatten([S.withoutBorder,f])}),n.a.createElement("input",s()),n.a.createElement(p.a,{source:C.a,style:[S.preview,{height:100,width:100}],resizeMode:"contain"}),n.a.createElement(d.a,{style:S.blueText},"Upload File")))})))}var S=u.a.create({withoutBorder:{alignItems:"center",cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center"},root:{alignItems:"center",borderRadius:4,borderStyle:"solid",borderWidth:2,cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center"},preview:{borderRadius:4},blueText:{color:v.text.link,fontSize:E.sizes.small,fontWeight:"700"},text:{fontFamily:"Montserrat",color:v.text.default,fontWeight:"600"},browse:{color:v.text.link,textDecorationLine:"underline"}}),z=r(69);function O(e){var t=e.title,r=e.mode,a=void 0===r?"primary":r,o=e.style,i=e.disabled,l=y()(e,["title","mode","style","disabled"]),c={backgroundColor:i?v.button.disabled:"primary"===a?v.button.primary:v.button.secondary};return n.a.createElement(z.a,g()({disabled:i,style:[D.container,c,o]},l),n.a.createElement(d.a,{style:D.textBtn},t))}var D=u.a.create({container:{alignItems:"center",justifyContent:"center",shadowColor:v.misc.shadow,shadowOffset:{width:0,height:3},shadowOpacity:.27,shadowRadius:4.65,elevation:6,padding:10,borderRadius:5},textBtn:{color:v.text.light,fontFamily:"Montserrat",fontWeight:"700"}});function B(){var e=Object(a.useState)(null),t=c()(e,2),r=t[0],o=t[1],l=Object(a.useState)(!1),u=c()(l,2),f=u[0],g=u[1],h=Object(a.useState)("Upload"),y=c()(h,2),b=y[0],x=y[1],w=Object(a.useState)(null),E=c()(w,2),F=E[0],C=E[1],S=Object(a.useCallback)((function(){return x("Upload")}),[]);return Object(a.useEffect)((function(){"Upload"===b&&(C(null),o(null))}),[b]),f?n.a.createElement(s.a,{style:k.loadingContainer},n.a.createElement(m.a,{color:v.misc.loadingIndicator,size:"large"}),n.a.createElement(d.a,{style:[k.text,k.loadingText]},"Detecting Object...")):n.a.createElement(s.a,{style:k.container},n.a.createElement(d.a,{style:k.header},"Upload"===b?"Upload Files":"Detection Result :"),n.a.createElement(s.a,{style:k.contentWrapper},n.a.createElement(s.a,{style:k.leftContainer},"Upload"===b?n.a.createElement(j,{bottomNote:"** File must be in .jpg, .png, .jpeg format",type:"image",containerStyle:{width:"100%",height:400},source:r,getPreview:o}):n.a.createElement(p.a,{source:{uri:null==F?void 0:F.urlOutputs},style:{width:"100%",height:400,borderWidth:2,borderColor:v.border.primary}})),n.a.createElement(s.a,{style:k.rightContainer},n.a.createElement(d.a,{style:[k.text,k.fileName],numberOfLines:2,ellipsizeMode:"middle"},(null==r?void 0:r.file.name)||"No Files Attached."),"Upload"===b?n.a.createElement(O,{mode:"secondary",title:"Upload",style:k.uploadBtn,onPress:function(){var e,t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(e=new FormData).append("file",(null==r?void 0:r.file)||""),g(!0),n.next=6,i.a.awrap(fetch("http://127.0.0.1:5000/upload",{method:"POST",headers:{Accept:"application/json"},body:e}));case 6:return t=n.sent,n.next=9,i.a.awrap(t.json());case 9:a=n.sent,g(!1),C(a),x("Result"),n.next=18;break;case 15:throw n.prev=15,n.t0=n.catch(0),new Error(n.t0);case 18:case"end":return n.stop()}}),null,null,[[0,15]],Promise)},disabled:!r}):n.a.createElement(O,{title:"Detect more Istar Object",style:k.resultBtn,onPress:S}))))}var k=u.a.create({container:{flex:1,backgroundColor:v.misc.background,justifyContent:"center",padding:50},header:{textAlign:"center",fontFamily:"Montserrat-Bold",color:v.text.primary,fontSize:E.sizes.header,marginBottom:20},contentWrapper:{flexDirection:"row"},leftContainer:{flex:3},rightContainer:{justifyContent:"center",paddingLeft:20,flex:1},text:{fontFamily:"Montserrat",fontWeight:"600"},fileName:{marginBottom:20,fontSize:E.sizes.medium},uploadBtn:{width:"70%"},resultBtn:{height:50},loadingContainer:{justifyContent:"center",alignItems:"center",flex:1},loadingText:{textAlign:"center",color:v.text.primary,fontSize:E.sizes.xLarge,marginTop:20}});function U(){return n.a.createElement(B,null)}},71:function(e,t,r){r(72),e.exports=r(100)},72:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/istar/expo-service-worker.js",{scope:"/istar/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[71,1,2]]]);
//# sourceMappingURL=app.13cf12f4.chunk.js.map